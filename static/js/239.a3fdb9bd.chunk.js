"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[239],{239:function(e,t,a){a.r(t),a.d(t,{default:function(){return p}});var r=a(439),n=a(87),s=a(689),c=a(791),u=a(174),i=a(222),o=a(287),l=(a(462),a(843)),h=a(243),d={searchbar:"Searchbar_searchbar__0FWoU",form:"Searchbar_form__D-hp5",input:"Searchbar_input__19umw",button:"Searchbar_button__nkcjk"},f=a(184),m=function(e){e.setSearchMovies;var t=e.updateQueryString,a=e.query,n=(0,c.useState)(""),s=(0,r.Z)(n,2),u=s[0],i=s[1];a=u;return(0,f.jsx)(f.Fragment,{children:(0,f.jsx)("header",{className:d.searchbar,children:(0,f.jsxs)("form",{onSubmit:function(e){e.preventDefault(),t(a),i("")},className:d.form,children:[(0,f.jsx)("button",{type:"submit",className:d.button,children:(0,f.jsx)("span",{className:d.buttonLab,children:" \ud83d\udd0e"})}),(0,f.jsx)("input",{className:d.input,type:"text",placeholder:"Start your search...",value:a,onChange:function(e){return i(e.target.value)}})]})})})},p=function(){var e,t=(0,i.W)(),a=t.responseMovsName,d=t.setResponseMovsName,p=(0,n.lr)(),b=(0,r.Z)(p,2),_=b[0],j=b[1],v=(0,c.useState)(!1),x=(0,r.Z)(v,2),S=x[0],g=x[1],y=null!==(e=_.get("query"))&&void 0!==e?e:"",k=(0,s.TH)();return(0,c.useEffect)((function(){var e;y&&(g(!0),(e=y,h.Z.get("".concat("https://api.themoviedb.org","/3/search/movie?query='").concat(e,"'&include_adult=false&language=en-US&page=1&api_\nkey=").concat("f56a897a3a6f379d289b4251d1cb1dbb"),{})).then((function(e){d(e.data.results)})).catch((function(e){u.Am.warn("\ud83d\udc12Sorry ".concat(e," \ud83d\udc12"))})).finally((function(){g(!1)})))}),[y,_,d]),(0,f.jsxs)("main",{children:[S&&(0,f.jsx)(o.Z,{}),(0,f.jsx)("p",{children:"\ud83d\udcfa"}),(0,f.jsx)(m,{updateQueryString:function(e){j(""!==e?{query:e}:"")},query:y,setSearchMovies:j}),_&&(0,f.jsx)("ul",{className:"moviesList",children:a.map((function(e){var t=e.original_title,a=e.id;return(0,f.jsx)(n.rU,{to:"/movies/".concat(a),state:{from:k},children:(0,f.jsx)(l.Z,{title:t})},a)}))}),(0,f.jsx)(c.Suspense,{fallback:(0,f.jsx)("div",{children:"\ud83d\udea7Loading...\ud83d\ude9b"}),children:(0,f.jsx)(s.j3,{})})]})}}}]);
//# sourceMappingURL=239.a3fdb9bd.chunk.js.map