{"version":3,"file":"static/js/239.341d959a.chunk.js","mappings":"gRACA,GAAgB,UAAY,6BAA6B,KAAO,wBAAwB,MAAQ,yBAAyB,OAAS,2B,SCgDlI,EA5CkB,SAAHA,GAAsC,IAAhCC,EAAiBD,EAAjBC,kBAAmBC,EAAKF,EAALE,MAChCC,GAAWC,EAAAA,EAAAA,MAejB,OACEC,EAAAA,EAAAA,KAAAC,EAAAA,SAAA,CAAAC,UACEF,EAAAA,EAAAA,KAAA,UAAQG,UAAWC,EAAAA,UAAcF,UAC/BG,EAAAA,EAAAA,MAAA,QAAMC,SAZK,SAAAC,GACfA,EAAMC,iBACFX,GACFC,EAAS,oBAAqB,CAAEW,SAAS,GAE7C,EAOgCN,UAAWC,EAAAA,KAASF,SAAA,EAC5CF,EAAAA,EAAAA,KAAA,UAAQU,KAAK,SAASP,UAAWC,EAAAA,OAAWF,UAC1CF,EAAAA,EAAAA,KAAA,QAAMG,UAAWC,EAAAA,UAAcF,SAAC,qBAGlCF,EAAAA,EAAAA,KAAA,SACEG,UAAWC,EAAAA,MACXM,KAAK,OACLC,YAAY,uBACZC,MAAOf,EACPgB,SAzBM,SAAAN,GAAK,OAAIX,EAAkBW,EAAMO,OAAOF,MAAO,UA+BjE,EC4BA,EAzDe,WAAO,IAADG,EACnBC,GAAkDC,EAAAA,EAAAA,KAA1CC,EAAgBF,EAAhBE,iBAAkBC,EAAmBH,EAAnBG,oBAC1BC,GAAwCC,EAAAA,EAAAA,MAAiBC,GAAAC,EAAAA,EAAAA,GAAAH,EAAA,GAAlDI,EAAYF,EAAA,GAAEG,EAAeH,EAAA,GACpCI,GAA4BC,EAAAA,EAAAA,WAAS,GAAMC,GAAAL,EAAAA,EAAAA,GAAAG,EAAA,GAAtCG,EAAOD,EAAA,GAAEE,EAAUF,EAAA,GAGlB/B,EAAiC,QAA5BkB,EAAGS,EAAaO,IAAI,gBAAQ,IAAAhB,EAAAA,EAAI,GASrCiB,GAAWC,EAAAA,EAAAA,MAqBjB,OAnBAC,EAAAA,EAAAA,YAAU,WCtBY,IAAAC,GDuBpBL,GAAW,GAENN,KCzBeW,ED4BXX,EC3BMY,EAAAA,EAAAA,IAAU,GAADC,OAHX,6BAIF,2BAAAA,OAA0BF,EAAM,0DAAAE,OANhC,oCAQX,CAAC,IDyBEC,MAAK,SAAAC,GACJpB,EAAoBoB,EAAKC,KAAKC,QAChC,IACCC,OAAM,SAAAC,GACLC,EAAAA,GAAAA,KAAW,qBAADP,OAAYM,EAAK,iBAC7B,IAECE,SAAQ,WACPf,GAAW,EACb,GACJ,GAAG,CAACN,EAAcL,KAGhBd,EAAAA,EAAAA,MAAA,QAAAH,SAAA,CACG2B,IAAW7B,EAAAA,EAAAA,KAAC8C,EAAAA,EAAQ,KACrB9C,EAAAA,EAAAA,KAAA,KAAAE,SAAG,kBACHF,EAAAA,EAAAA,KAAC+C,EAAS,CAACnD,kBA/BW,SAAAC,GAExB4B,EAD6B,KAAV5B,EAAe,CAAEA,MAAAA,GAAU,CAAC,EAEjD,EA4BqDA,MAAOA,KAExDG,EAAAA,EAAAA,KAAA,MAAIG,UAAU,aAAYD,SACvBgB,EAAiB8B,KAAI,SAAArD,GAAA,IAAGsD,EAActD,EAAdsD,eAAgBC,EAAEvD,EAAFuD,GAAE,OACzClD,EAAAA,EAAAA,KAACmD,EAAAA,GAAI,CAAUC,GAAE,WAAAf,OAAaa,GAAMG,MAAO,CAAEC,KAAMtB,GAAW9B,UAC5DF,EAAAA,EAAAA,KAACuD,EAAAA,EAAS,CAACC,MAAOP,KADTC,EAEJ,OAIXlD,EAAAA,EAAAA,KAACyD,EAAAA,SAAQ,CAACC,UAAU1D,EAAAA,EAAAA,KAAA,OAAAE,SAAK,uCAAqBA,UAC5CF,EAAAA,EAAAA,KAAC2D,EAAAA,GAAM,QAIf,C","sources":["webpack://react-homework-template/./src/components/Searchbar/Searchbar.module.css?8d9e","components/Searchbar/Searchbar.jsx","pages/Movies/Movies.jsx","helpers/fetchenr.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"searchbar\":\"Searchbar_searchbar__0FWoU\",\"form\":\"Searchbar_form__D-hp5\",\"input\":\"Searchbar_input__19umw\",\"button\":\"Searchbar_button__nkcjk\"};","import PropTypes from 'prop-types';\n\nimport css from './Searchbar.module.css';\nimport { useNavigate } from 'react-router-dom';\n\nconst Searchbar = ({ updateQueryString, query }) => {\n  const navigate = useNavigate();\n\n  // змінник\n  const changer = event => updateQueryString(event.target.value);\n  \n  // відпрвник\n  const submiter = event => {\n    event.preventDefault();\n    if (query) {\n      navigate('/moviesList/query', { replace: false });\n    }\n  };\n  \n  \n\n  return (\n    <>\n      <header className={css.searchbar}>\n        <form onSubmit={submiter} className={css.form}>\n          <button type=\"submit\" className={css.button}>\n            <span className={css.buttonLab}> 🔎</span>\n          </button>\n\n          <input\n            className={css.input}\n            type=\"text\"\n            placeholder=\"Start your search...\"\n            value={query}\n            onChange={changer}\n          />\n        </form>\n      </header>\n    </>\n  );\n};\n\n// проптайпи\nSearchbar.propTypes = {\n  updateQueryString: PropTypes.func.isRequired,\n  // setSearchMovies: PropTypes.func.isRequired,\n  query: PropTypes.string.isRequired,\n};\n\nexport default Searchbar;\n","import { Link, Outlet, useLocation, useSearchParams } from 'react-router-dom';\nimport { useEffect, Suspense, useState } from 'react';\nimport { toast } from 'react-toastify';\nimport { UsecustomCont } from 'components/Context/Context';\nimport BarChart from 'components/Loader/Loader';\nimport 'react-toastify/dist/ReactToastify.css';\nimport MovieList from 'components/MoveList/MovieList';\nimport { fetchenr } from 'helpers/fetchenr';\n\nimport Searchbar from 'components/Searchbar/Searchbar';\n\nconst Movies = () => {\n  const { responseMovsName, setResponseMovsName } = UsecustomCont();\n  const [searchMovies, setSearchMovies] = useSearchParams();\n  let [loading, setLoading] = useState(false);\n\n  // отримання параметра\n  const query = searchMovies.get('query') ?? '';\n\n  // або є або пусто для інпуту\n  const updateQueryString = query => {\n    const nextMovies = query !== '' ? { query } : {};\n    setSearchMovies(nextMovies);\n  };\n\n  // для поверення\n  const location = useLocation();\n\n  useEffect(() => {\n    setLoading(true);\n\n    if (!searchMovies) {\n      return;\n    }\n    fetchenr(searchMovies)\n      .then(resp => {\n        setResponseMovsName(resp.data.results);\n      })\n      .catch(error => {\n        toast.warn(`🐒Sorry ${error} 🐒`);\n      })\n      // лодер -\n      .finally(() => {\n        setLoading(false);\n      });\n  }, [searchMovies, setResponseMovsName]);\n\n  return (\n    <main>\n      {loading && <BarChart />}\n      <p>📺</p>\n      <Searchbar updateQueryString={updateQueryString} query={query} />\n\n      <ul className=\"moviesList\">\n        {responseMovsName.map(({ original_title, id }) => (\n          <Link key={id} to={`/movies/${id}`} state={{ from: location }}>\n            <MovieList title={original_title} />\n          </Link>\n        ))}\n      </ul>\n\n      <Suspense fallback={<div>🚧Loading...🚛</div>}>\n        <Outlet />\n      </Suspense>\n    </main>\n  );\n};\n\nexport default Movies;\n","import axios from 'axios';\n\nconst MY_KEY = 'f56a897a3a6f379d289b4251d1cb1dbb';\n\nconst BASE_URL = 'https://api.themoviedb.org';\n\nexport const fetchenr = search => {\n  const response = axios.get(\n    `${BASE_URL}/3/search/movie?query='${search}'&include_adult=false&language=en-US&page=1&api_\nkey=${MY_KEY}`,\n    {}\n  );\n  // console.log(response, \"***\");\n\n  return response;\n};\n"],"names":["_ref","updateQueryString","query","navigate","useNavigate","_jsx","_Fragment","children","className","css","_jsxs","onSubmit","event","preventDefault","replace","type","placeholder","value","onChange","target","_searchMovies$get","_UsecustomCont","UsecustomCont","responseMovsName","setResponseMovsName","_useSearchParams","useSearchParams","_useSearchParams2","_slicedToArray","searchMovies","setSearchMovies","_useState","useState","_useState2","loading","setLoading","get","location","useLocation","useEffect","search","axios","concat","then","resp","data","results","catch","error","toast","finally","BarChart","Searchbar","map","original_title","id","Link","to","state","from","MovieList","title","Suspense","fallback","Outlet"],"sourceRoot":""}