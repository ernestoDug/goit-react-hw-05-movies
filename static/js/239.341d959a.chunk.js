"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[239],{239:function(e,t,a){a.r(t),a.d(t,{default:function(){return p}});var r=a(439),n=a(87),s=a(689),c=a(791),u=a(174),i=a(222),o=a(287),l=(a(462),a(843)),h=a(243),m={searchbar:"Searchbar_searchbar__0FWoU",form:"Searchbar_form__D-hp5",input:"Searchbar_input__19umw",button:"Searchbar_button__nkcjk"},d=a(184),f=function(e){var t=e.updateQueryString,a=e.query,r=(0,s.s0)();return(0,d.jsx)(d.Fragment,{children:(0,d.jsx)("header",{className:m.searchbar,children:(0,d.jsxs)("form",{onSubmit:function(e){e.preventDefault(),a&&r("/moviesList/query",{replace:!1})},className:m.form,children:[(0,d.jsx)("button",{type:"submit",className:m.button,children:(0,d.jsx)("span",{className:m.buttonLab,children:" \ud83d\udd0e"})}),(0,d.jsx)("input",{className:m.input,type:"text",placeholder:"Start your search...",value:a,onChange:function(e){return t(e.target.value)}})]})})})},p=function(){var e,t=(0,i.W)(),a=t.responseMovsName,m=t.setResponseMovsName,p=(0,n.lr)(),b=(0,r.Z)(p,2),_=b[0],j=b[1],v=(0,c.useState)(!1),x=(0,r.Z)(v,2),y=x[0],g=x[1],S=null!==(e=_.get("query"))&&void 0!==e?e:"",k=(0,s.TH)();return(0,c.useEffect)((function(){var e;(g(!0),_)&&(e=_,h.Z.get("".concat("https://api.themoviedb.org","/3/search/movie?query='").concat(e,"'&include_adult=false&language=en-US&page=1&api_\nkey=").concat("f56a897a3a6f379d289b4251d1cb1dbb"),{})).then((function(e){m(e.data.results)})).catch((function(e){u.Am.warn("\ud83d\udc12Sorry ".concat(e," \ud83d\udc12"))})).finally((function(){g(!1)}))}),[_,m]),(0,d.jsxs)("main",{children:[y&&(0,d.jsx)(o.Z,{}),(0,d.jsx)("p",{children:"\ud83d\udcfa"}),(0,d.jsx)(f,{updateQueryString:function(e){j(""!==e?{query:e}:{})},query:S}),(0,d.jsx)("ul",{className:"moviesList",children:a.map((function(e){var t=e.original_title,a=e.id;return(0,d.jsx)(n.rU,{to:"/movies/".concat(a),state:{from:k},children:(0,d.jsx)(l.Z,{title:t})},a)}))}),(0,d.jsx)(c.Suspense,{fallback:(0,d.jsx)("div",{children:"\ud83d\udea7Loading...\ud83d\ude9b"}),children:(0,d.jsx)(s.j3,{})})]})}}}]);
//# sourceMappingURL=239.341d959a.chunk.js.map